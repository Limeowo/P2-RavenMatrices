<!--Project: Raven Matrices on Mturk
  2020-02-13 Shikun, Mingtong -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="https://timbrady.org/turk/TimTurkTools.js"></script>
<script>
var order = new Array(12，11，10，9，8，7，6，5, 4, 3, 2, 1);
var currentTrial = 0; // changed from 1 to 0!
var time_limite = 10;


var timer = setInterval(function(){
	time_limite--;
	var sec = document.getElementById("second");
	sec.innerHTML = time_limite;
	if(time_limite<=0){
			NextTrial();
		}
	},1000);

$(document).ready(function(){
	ShowTrial(currentTrial);
	BlockIfPreview();
	CheckBlockList('Tim_ColorMemory', BlockIfDoneBefore);
	$("#submitButton").hide();
});
/*
function BlockIfDoneBefore(){
	$('body').html(
		"<p>Sorry, you have already done a HIT like this one and aren't eligible for this HIT. Please return it. Thanks!</p>"
		)
}
function BlockIfPreview() {
	if (IsTurkPreview()) {
		$('body').append("<div id='previewMode'><p> PREVIEWING THE HIT</p><p> PREVIEWING THE HIT</p><p> PREVIEWING THE HIT</p>");

	}
}
*/

function ShowTrial(which) {
	if (which >= order.length) {
		$("#submitButton").show();
	} else {
		time_limite = 10;
		var sec = document.getElementById("second");
		sec.innerHTML = time_limite;
		$("#page" + order[which]).show();
		var showTrial = which+1; // 0 indexed to 1 indexed
		$(".currentTrialIndicator").text("Current trial: " + showTrial + " of " + order.length);
	}
}

function NextTrial() {
	var checkedValue = $("input[type=radio]:checked",
		"#page" + order[currentTrial]).val();
	if(time_limite>0){
		if (checkedValue) {
			$("#page" + order[currentTrial]).hide();
			currentTrial++;
			if(currentTrial<5){
				ShowTrial(currentTrial);
			}
		} else {
			alert('Please answer the question before moving on!');
		}
	}
	else{
			$("#page" + order[currentTrial]).hide();
			currentTrial++;
			ShowTrial(currentTrial);
			if(currentTrial>=5){
				$("p").hide();
			}
	}
}


</script>

<!--

<style> tag = CSS
CSS is for styling and making things pretty

-->

<style>
body {
	font-family: Arial;
}

.page {
	display: none;
	margin-top: 30px;
	color: blue;
	font-weight: bold;
}

.page p {
	margin-top: -8px;
	font-weight: bold;
}

/*
img:hover {
	width: 500px;
}
*/
.currentTrialIndicator {
	font-family: Arial;
	font-size: 9pt;
	padding-left: 10px;
}

.nextLink {
	background: gray;
	border: 3px outset black;
	padding: 8px;
	color: white;
	font-family: Arial;
	font-size: 14pt;
}

#previewMode p {
	margin-top: 100px;
}

#previewMode {
	position: absolute;
	top: 0px;
	left: 0px;
	width: 100%;
	text-align: center;
	height: 100%;
	font-size: 30pt;
	background: gray;
	opacity: 0.30;

/* HIDE RADIO */
[type=radio] {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
}

/* IMAGE STYLES */
[type=radio] + img {
  cursor: pointer;
}

/* CHECKED STYLES */
[type=radio]:checked + img {
  outline: 2px solid #f00;
}

}
</style>

<!--

If not in <script> or <style>, then you are in HTML

 -->
<h1>
Raven's matrices
</h1>
<p><b id="second">10</b> seconds left</p>

<h3>Judge these images</h3>
<p>Please rate how interesting each of these four images is, on a scale from 1-5,  where 5 is the most interesting. There are no wrong answers, just go with your instinct. Pass your mouse over the image for a larger view of it.</p>
<div class="page" id="page1">
<p><img src="file:///Users/gaojie/Desktop/raven%20screenshot/E1stimulus.png" width="500" alt="" /></p>
<label>

<style>
.all-img{
width:870px;
height:200px;
border: 100px ;
display:flex;
align-content:flex-start;
flex-wrap:wrap;
}
.all-img img{
	float:left;
	width:200px;
}
</style>

<div class='all-img'>
<p><input type="radio" name="aquariumI" value="1" /></p>
<img src="file:///Users/gaojie/Desktop/raven%20screenshot/E1response1.png">
<p><input type="radio" name="aquariumI" value="2" /></p>
<img src="file:///Users/gaojie/Desktop/raven%20screenshot/E1response2.png">
<p><input type="radio" name="aquariumI" value="3" /></p>
<img src="file:///Users/gaojie/Desktop/raven%20screenshot/E1response3.png">
<p><input type="radio" name="aquariumI" value="4" /></p>
<img src="file:///Users/gaojie/Desktop/raven%20screenshot/E1response4.png">
<p><input type="radio" name="aquariumI" value="5" /></p>
<img src="file:///Users/gaojie/Desktop/raven%20screenshot/E1response5.png">
<p><input type="radio" name="aquariumI" value="6" /></p>
<img src="file:///Users/gaojie/Desktop/raven%20screenshot/E1response6.png">
<p><input type="radio" name="aquariumI" value="7" /></p>
<img src="file:///Users/gaojie/Desktop/raven%20screenshot/E1response7.png">
<p><input type="radio" name="aquariumI" value="8" /></p>
<img src="file:///Users/gaojie/Desktop/raven%20screenshot/E1response8.png">
</label>

<p>&nbsp;</p>
<a class="nextLink" href="javascript:NextTrial()">Next trial</a> <span class="currentTrialIndicator">&nbsp;</span>
</div>
</div>

<div class="page" id="page2">
<p><img src="http://timbrady.org/turk/images/field.jpg" width="300" alt="" /></p>
<p><input type="radio" name="fieldI" value="1" /> 1</p>
<p><input type="radio" name="fieldI" value="2" /> 2</p>
<p><input type="radio" name="fieldI" value="3" /> 3</p>
<p><input type="radio" name="fieldI" value="4" /> 4</p>
<p><input type="radio" name="fieldI" value="5" /> 5</p>
<p>&nbsp;</p>
<a class="nextLink" href="javascript:NextTrial()">Next trial</a> <span class="currentTrialIndicator">&nbsp;</span>
</div>

<div class="page" id="page3">
<p><img src="http://timbrady.org/turk/images/valley.jpg" width="300" alt="" /></p>
<p><input type="radio" name="valleyI" value="1" /> 1</p>
<p><input type="radio" name="valleyI" value="2" /> 2</p>
<p><input type="radio" name="valleyI" value="3" /> 3</p>
<p><input type="radio" name="valleyI" value="4" /> 4</p>
<p><input type="radio" name="valleyI" value="5" /> 5</p>
<p>&nbsp;</p>
<a class="nextLink" href="javascript:NextTrial()">Next trial</a> <span class="currentTrialIndicator">&nbsp;</span>
</div>

<div class="page" id="page4">
<p><img src="http://timbrady.org/turk/images/ballpit.jpg" width="300" alt="" /></p>
<p><input type="radio" name="ballpitI" value="1" /> 1</p>
<p><input type="radio" name="ballpitI" value="2" /> 2</p>
<p><input type="radio" name="ballpitI" value="3" /> 3</p>
<p><input type="radio" name="ballpitI" value="4" /> 4</p>
<p><input type="radio" name="ballpitI" value="5" /> 5</p>
<p>&nbsp;</p>
<a class="nextLink" href="javascript:NextTrial()">Next trial</a> <span class="currentTrialIndicator">&nbsp;</span>
</div>

<div class="page" id="page5">
<p><img src="https://i.imgur.com/kUCMPWX.jpg" width="300" alt="" /></p>
<p><input type="radio" name="dogI" value="1" /> 1</p>
<p><input type="radio" name="dogI" value="2" /> 2</p>
<p><input type="radio" name="dogI" value="3" /> 3</p>
<p><input type="radio" name="dogI" value="4" /> 4</p>
<p><input type="radio" name="dogI" value="5" /> 5</p>
<p>&nbsp;</p>
<a class="nextLink" href="javascript:NextTrial()">Next trial</a> <span class="currentTrialIndicator">&nbsp;</span>
</div>



<!--
<div class="page" id="page5">
<p>How did you like this HIT?</p>
<p><input type="text" name="howLike" value="" /></p>
<p>&nbsp;</p>
</div>

<input type="submit" id="submitButton">
